<!doctype html><html lang=de-de><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><script type=text/javascript src=https://latest.cactus.chat/cactus.js></script>
<link rel=stylesheet href=https://latest.cactus.chat/style.css type=text/css><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>03 - Hacking Lab - Scanning the network | myl3z.me - CyberSec - Dev - Server</title><link rel=canonical href=https://myl3z.me/posts/03-hacking-lab-scanning-the-network/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:title" content="03 - Hacking Lab - Scanning the network"><meta property="og:description" content="Scanning the network Note: Before going into the fun stuff. Good news! I&rsquo;ve fixed the internet connection problem, by using IP addresses that can communicate. Somehow 192.168.2.1 and 192.168.25.1 can&rsquo;t communicate, even if I&rsquo;m using 255.255.0.0 as a subnet mask. That means that the network is really big now. If you would like to learn more about networking and subnetting, leave me a comment :)
Update the VMs To have fun with the fun stuff, I want to add some configurations to my domain controller."><meta property="og:type" content="article"><meta property="og:url" content="https://myl3z.me/posts/03-hacking-lab-scanning-the-network/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-06-30T20:11:05+02:00"><meta property="article:modified_time" content="2023-06-30T20:11:05+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="03 - Hacking Lab - Scanning the network"><meta name=twitter:description content="Scanning the network Note: Before going into the fun stuff. Good news! I&rsquo;ve fixed the internet connection problem, by using IP addresses that can communicate. Somehow 192.168.2.1 and 192.168.25.1 can&rsquo;t communicate, even if I&rsquo;m using 255.255.0.0 as a subnet mask. That means that the network is really big now. If you would like to learn more about networking and subnetting, leave me a comment :)
Update the VMs To have fun with the fun stuff, I want to add some configurations to my domain controller."><link rel=stylesheet href=https://myl3z.me/css/styles.94f653e9e151e28067a7c5dbbc4600cbd5a3c721e79faaf971e523c40f3b249b8e4f20bb57810dfffa8d559ca5c140fd56eb4cd9c0853113ad08e66afdb08bdd.css integrity="sha512-lPZT6eFR4oBnp8XbvEYAy9WjxyHnn6r5ceUjxA87JJuOTyC7V4EN//qNVZylwUD9VutM2cCFMROtCOZq/bCL3Q=="><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script>
<script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://myl3z.me/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><div id=header-post><a id=menu-icon href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=menu-icon-tablet href=#><i class="fas fa-bars fa-lg"></i></a>
<a id=top-icon-tablet href=# onclick='$("html, body").animate({scrollTop:0},"fast")' style=display:none aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
<span id=menu><span id=nav><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></span><br><span id=actions><ul><li><a class=icon href=https://myl3z.me/posts/02-hacking-lab-installing-the-vms/ aria-label=Previous><i class="fas fa-chevron-left" aria-hidden=true onmouseover='$("#i-prev").toggle()' onmouseout='$("#i-prev").toggle()'></i></a></li><li><a class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up" aria-hidden=true onmouseover='$("#i-top").toggle()' onmouseout='$("#i-top").toggle()'></i></a></li><li><a class=icon href=# aria-label=Share><i class="fas fa-share-alt" aria-hidden=true onmouseover='$("#i-share").toggle()' onmouseout='$("#i-share").toggle()' onclick='return $("#share").toggle(),!1'></i></a></li></ul><span id=i-prev class=info style=display:none>Previous post</span>
<span id=i-next class=info style=display:none>Next post</span>
<span id=i-top class=info style=display:none>Back to top</span>
<span id=i-share class=info style=display:none>Share post</span></span><br><div id=share style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f" aria-label=Facebook><i class="fab fa-facebook" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&text=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Twitter><i class="fab fa-twitter" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&title=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Linkedin><i class="fab fa-linkedin" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&is_video=false&description=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Pinterest><i class="fab fa-pinterest" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network&body=Check out this article: https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f" aria-label=Email><i class="fas fa-envelope" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&title=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Pocket><i class="fab fa-get-pocket" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&title=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=reddit><i class="fab fa-reddit" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&name=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network&description=Scanning%20the%20network%20Note%3a%20Before%20going%20into%20the%20fun%20stuff.%20Good%20news%21%20I%26rsquo%3bve%20fixed%20the%20internet%20connection%20problem%2c%20by%20using%20IP%20addresses%20that%20can%20communicate.%20Somehow%20192.168.2.1%20and%20192.168.25.1%20can%26rsquo%3bt%20communicate%2c%20even%20if%20I%26rsquo%3bm%20using%20255.255.0.0%20as%20a%20subnet%20mask.%20That%20means%20that%20the%20network%20is%20really%20big%20now.%20If%20you%20would%20like%20to%20learn%20more%20about%20networking%20and%20subnetting%2c%20leave%20me%20a%20comment%20%3a%29%0aUpdate%20the%20VMs%20To%20have%20fun%20with%20the%20fun%20stuff%2c%20I%20want%20to%20add%20some%20configurations%20to%20my%20domain%20controller." aria-label=Tumblr><i class="fab fa-tumblr" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&t=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label="Hacker News"><i class="fab fa-hacker-news" aria-hidden=true></i></a></li></ul></div><div id=toc><nav id=TableOfContents><ul><li><a href=#update-the-vms>Update the VMs</a></li><li><a href=#preparation>Preparation</a></li><li><a href=#scanning-and-enumeration>Scanning and Enumeration</a><ul><li><a href=#nmap>nmap</a></li><li><a href=#masscan>masscan</a></li><li><a href=#bettercap>bettercap</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">03 - Hacking Lab - Scanning the network</h1><div class=meta><div class=postdate><time datetime="2023-06-30 20:11:05 +0200 +0200" itemprop=datePublished>2023-06-30</time></div></div></header><div class=content itemprop=articleBody><h1 id=scanning-the-network>Scanning the network</h1><p>Note: Before going into the fun stuff. Good news! I&rsquo;ve fixed the internet connection problem, by using IP addresses that can communicate. Somehow 192.168.2.1 and 192.168.25.1 can&rsquo;t communicate, even if I&rsquo;m using 255.255.0.0 as a subnet mask. That means that the network is really big now. If you would like to learn more about networking and subnetting, leave me a comment :)</p><h2 id=update-the-vms>Update the VMs</h2><p>To have fun with the fun stuff, I want to add some configurations to my domain controller. I create some SMB Shares, a new low privilege user called <strong>holly.bird</strong>, which will only be a Domain User.
And add some Groups, like <strong>CEO</strong>, <strong>Accounting</strong>, <strong>Development</strong> and <strong>System Administration</strong>.</p><p>Nothing special. Easy setup with a few click with the Server Manager on the Domain Controller.</p><h2 id=preparation>Preparation</h2><p>To do some actual hacking I will use kali. It&rsquo;s a Debian-based Linux distribution packed with all the good stuff we need for hacking. Of course I could use any Linux distribution and install all the tools I need, but I really like kali and I want to focus on the hacking for now.</p><p>At first I need a second level Hypervisor to run kali on my Workstation. I choose VirtualBox. It&rsquo;s free and it works :) There are other second level Hypervisors you could use. Or even install it on you computer bare metal.</p><p>So I download the kali image, VirtualBox and install everything. After some time I have a running kali VM on my ubuntu Workstation. Let&rsquo;s get the party started.</p><p><img src=/images/posts/03_hacking_lab_scanning_the_network/kali_linux.png alt="Kali Linux"></p><h2 id=scanning-and-enumeration>Scanning and Enumeration</h2><p>Let&rsquo;s pretend I made it into the network somehow. There are multiple scenarios and at some point I will write about them. But for now, we&rsquo;re already in the network. But we don&rsquo;t know anything about this network yet. So let&rsquo;s scan it. In the first part <strong>Scanning & Enumeration</strong> my job is to find as much information as possible.</p><h3 id=nmap>nmap</h3><p>One of the famous scanning tools, which is already installed in kali, is <strong>nmap</strong>. To start a scan I use the command <code>nmap -sn 192.168.0.0/16</code>. This will scan the whole network. Since it&rsquo;s a really big network, this will take a while. Time for a coffee break.</p><p>My goal is to find hosts that are up. After some time nmap will be finished. It also have found some machines. The 192.168.2.x is basically my infrastructure, so I will not test them :D</p><p>But after a long while, there are some ip addresses but not from 192.168.25.x, which are the machines I want to attack later! For now I will use other tools to get more hosts.</p><p>Are there alternatives to nmap?</p><h3 id=masscan>masscan</h3><p>Another scanner, which is also already installed, is <strong>masscan</strong>.</p><p>It seems like it&rsquo;s a really fast scanner, so let&rsquo;s try it. With the command <code>sudo masscan -p20,21-23,25,53,80,110,111,135,139,143,443,445,993,995,1723,3306,3389,5900,8080 192.168.0.0/16</code> I can scan for all the open ports in my network.</p><p>To even speed this up I will scan only for port 53, which is DNS. Of course there could be other DNS Server with this port open, but like I&rsquo;ve said, my network is very simple and I want to focus on the methodology and the tools.</p><p>After just a few minutes, masscan has found the ip address of the domain controller. Yey!</p><p><img src=/images/posts/03_hacking_lab_scanning_the_network/masscan_results.png alt="Masscan results"></p><p>The big goal here is not to find the domain controller only, but to find all hosts, so that we have some hosts for enumeration.</p><h3 id=bettercap>bettercap</h3><p>Last tool I want to look into is <strong>bettercap</strong>. It was not installed on my machine, but it&rsquo;s an easy step.</p><p>After installation, just run <code>sudo bettercap</code> and you get an interactive console. To start scanning ports I use <code>syn.scan 192.168.0.0/16 53</code>. This will look for hosts with the port 53.</p><p><img src=/images/posts/03_hacking_lab_scanning_the_network/bettercap_progress.png alt="Bettercap progress"></p><p>I got the Domain Controller ip address. In a real pentest I would not only check port 53, but also the other ports that can be interesting for hacking.</p><h2 id=conclusion>Conclusion</h2><p>Depending on how noisy you want to be scanning the network can be done with these tools. It&rsquo;s of course a very basic beginning, since my network is built simple. Sometimes one tool is not working as intended and doesn&rsquo;t provide useful information, so it&rsquo;s better to have some alternatives ready to go! Don&rsquo;t forget to save all ip addresses of the found hosts.</p><p>In the next episode I will try to get as much information as possible about the hosts to look for possible vulnerabilities.</p></div></article><div id=footer-post-container><div id=footer-post><div id=nav-footer style=display:none><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></div><div id=toc-footer style=display:none><nav id=TableOfContents><ul><li><a href=#update-the-vms>Update the VMs</a></li><li><a href=#preparation>Preparation</a></li><li><a href=#scanning-and-enumeration>Scanning and Enumeration</a><ul><li><a href=#nmap>nmap</a></li><li><a href=#masscan>masscan</a></li><li><a href=#bettercap>bettercap</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><div id=share-footer style=display:none><ul><li><a class=icon href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f" aria-label=Facebook><i class="fab fa-facebook fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://twitter.com/share?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&text=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Twitter><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&title=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Linkedin><i class="fab fa-linkedin fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&is_video=false&description=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Pinterest><i class="fab fa-pinterest fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="mailto:?subject=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network&body=Check out this article: https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f" aria-label=Email><i class="fas fa-envelope fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://getpocket.com/save?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&title=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=Pocket><i class="fab fa-get-pocket fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://reddit.com/submit?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&title=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label=reddit><i class="fab fa-reddit fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="http://www.tumblr.com/share/link?url=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&name=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network&description=Scanning%20the%20network%20Note%3a%20Before%20going%20into%20the%20fun%20stuff.%20Good%20news%21%20I%26rsquo%3bve%20fixed%20the%20internet%20connection%20problem%2c%20by%20using%20IP%20addresses%20that%20can%20communicate.%20Somehow%20192.168.2.1%20and%20192.168.25.1%20can%26rsquo%3bt%20communicate%2c%20even%20if%20I%26rsquo%3bm%20using%20255.255.0.0%20as%20a%20subnet%20mask.%20That%20means%20that%20the%20network%20is%20really%20big%20now.%20If%20you%20would%20like%20to%20learn%20more%20about%20networking%20and%20subnetting%2c%20leave%20me%20a%20comment%20%3a%29%0aUpdate%20the%20VMs%20To%20have%20fun%20with%20the%20fun%20stuff%2c%20I%20want%20to%20add%20some%20configurations%20to%20my%20domain%20controller." aria-label=Tumblr><i class="fab fa-tumblr fa-lg" aria-hidden=true></i></a></li><li><a class=icon href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmyl3z.me%2fposts%2f03-hacking-lab-scanning-the-network%2f&t=03%20-%20Hacking%20Lab%20-%20Scanning%20the%20network" aria-label="Hacker News"><i class="fab fa-hacker-news fa-lg" aria-hidden=true></i></a></li></ul></div><div id=actions-footer><a id=menu-toggle class=icon href=# onclick='return $("#nav-footer").toggle(),!1' aria-label=Menu><i class="fas fa-bars fa-lg" aria-hidden=true></i> Menu</a>
<a id=toc-toggle class=icon href=# onclick='return $("#toc-footer").toggle(),!1' aria-label=TOC><i class="fas fa-list fa-lg" aria-hidden=true></i> TOC</a>
<a id=share-toggle class=icon href=# onclick='return $("#share-footer").toggle(),!1' aria-label=Share><i class="fas fa-share-alt fa-lg" aria-hidden=true></i> share</a>
<a id=top style=display:none class=icon href=# onclick='$("html, body").animate({scrollTop:0},"fast")' aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg" aria-hidden=true></i> Top</a></div></div></div><footer id=footer><div class=footer-left>Copyright &copy; 2023 myl3z.me - CyberSec - Dev - Server</div><div class=footer-right><nav><ul><li><a href=/>Home</a></li><li><a href=/about>About</a></li></ul></nav></div></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>
<script src=/js/code-copy.js></script></html>